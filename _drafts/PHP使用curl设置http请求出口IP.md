在基于PHP开发的某业务场景下，需要调用第三方的金融业务API，由于涉及到的业务对安全性要求比高，第三方需要验证调用其服务的远程服务器IP与请求报文中提交的IP是否一致。

在PHP项目中使用了`$_SERVER['SERVER_ADDR']`全局变量获取请求的客户端的访问的IP地址作为POST报文中的参数，使用`curl`函数完成了对第三方API的访问，比较奇怪的是，客户端的请求经常出现服务IP不一致的错误，第三方获取到我方的IP与报文中提交的IP不一致。

由于我方的服务器有四个IP地址，因此出口IP并不是固定不变的。